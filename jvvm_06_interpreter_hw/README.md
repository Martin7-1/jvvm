# Lab5 Instructions

本文档是[在线文档](https://app.gitbook.com/@jvvm/s/jvm/mooc-minilab/instructions)的简略版本

## 简介

Java程序是以字节码的形式储存在classfile中的，而JVM能够直接执行的指令也正是Java字节码。 在前面几次实验中，我们已经正确读取了classfile的内容，为指令的执行做好了准备， 而这次大作业的内容主要是实现几条JVM指令，对应手册的第六章。 在实现指令之前，为了加深理解，我们在JVM的“运行时环境”这部分框架代码中留了几个填空（已用TODO标记）， 这部分主要对应手册的2.5节。 在完成这几个填空之后，就可以尝试着实现JVM指令了！

在这个实验中，所有需要实现的部分都已经用TODO标记出来了。其中包括对运行时环境的个别接口的实现和一些指令的实现。大家在实验之前首先通过各种渠道理解一下JVM的运行时环境，然后参照手册实现对应指令即可。

## 测试说明

本实验包括三个测试用例和一个加分项。加分项主要涉及了类型转换指令。 我们首先将几个简单的Java程序编译成了class文件，框架代码读取了这些class文件，并且找到它们的main方法开始执行。在执行的过程中，解释器会（像上面那个循环所写的一样）依次构造、执行指令。你可以使用javap命令来读取测试的class文件中的指令以便debug。
值得一提的是，测试用例中涉及到了几个TestUtil类的方法，这几个方法是在框架代码中通过某种方式来实现的。`TestUtil.fail()`会在被执行到时抛出`RuntimeException()`，`TestUtil.equalInt(a,b)`会判断a和b是否相等，如果不相等，则抛出`RuntimeException()`，`TestUtil.equalFloat(a,b`)同理，只是它是用来判断float型变量的。

**在解释器运行时框架代码输出的信息仅供参考，不保证正确，请酌情使用。**

**在解释器运行时框架代码输出的信息仅供参考，不保证正确，请酌情使用。**

**在解释器运行时框架代码输出的信息仅供参考，不保证正确，请酌情使用。**